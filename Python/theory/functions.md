## Python Function

### Function

함수 (function) : 특정 작업을 수행하기 위한 재사용 가능한 코드 묶음.
- 내부 코드는 숨겨져 있고, 그저 함수 이름을 불러 특정 기능을 사용 가능함.
- 두 수의 합을 구하는 함수를 정의하고 사용함으로써 코드의 중복을 방지.
- 재사용성이 높아지고, 코드의 가독성과 유지보수성 향상.

함수 호출 (function call) : 함수를 실행하기 위해 함수의 이름을 사용하여 해당 함수의 코드 블록을 실행하는 것.
- 표기법 : `function_name(arguments)`

### 함수 구조

함수 정의(정의) : 
- def 키워드로 시작하며, 이후 함수 이름 작성.
- 괄호 안에 매개변수를 정의할 수 있음.
- 매개변수(parameter) : 함수에 전달되는 값.

함수 body : 
- `:` 다음에 들여쓰기 된 코드 블록
- 함수가 실행 될 때 수행되는 코드를 정의

Docstring : 함수 body 앞에 선택적으로 작성 가능한 함수 설명서

함수 반환 값 : 함수는 필요한 경우 결과를 반환할 수 있음
- `return` 키워드 이후에 반환할 값을 명시
- return문 : 함수의 실행을 종료하고, 결과를 호출 부분으로 반환
- 함수 내에서 return 문이 없다면 None이 반환됨

함수 호출 : 함수를 사용하기 위해서는 호출이 필요
- 함수의 이름과 소괄호를 활용해 호출
- 필요한 경우 인자 (argument)를 전달해야 함
- 호출 부분에서 전달된 인자는 함수 정의 시 작성한 매개변수에 대입됨

### 함수와 반환 값

`print()` 함수는 반환 값이 없음 : 화면에 값을 출력하기만 할 뿐, 반환(return) 값이 없음
- 반환 값이 없는 함수는 기본적으로 None을 반환한다고 간주됨

```python
def my_func():
    print('hello')

result = my_func()
print(result) # None
```

### 매개변수와 인자

매개변수 (parameter) : 함수를 정의할 때, 함수가 받을 값을 나타내는 변수.

인자 (argument) : 함수를 호출할 때, 실제로 전달되는 값.

```python
def add_numbers(x, y) : # x와 y는 매개변수(parameter)
    result = x + y
    return result

a = 2
b = 3

sum_result = add_numbers(a, b) # a와 b는 인자(argument)

print(sum_result)
```

### 다양한 인자 종류

1. 위치 인자 (Positional Arguments) : 함수 호출 시 인자의 위치에 따라 전달되는 인자. 함수 호출 시, 반드시 값을 전달해야 함.

    ```python
    def greet(name, age) : 
        print(f'안녕하세요, {name}님! {age}살이시군요.')

    greet('Alice', 25) # 안녕하세요, Alice님! 25살이시군요.
    greet(25, 'Alice') # 안녕하세요, 25님! Alice살이시군요.
    greet('Alice') # TypeError: greet() missing 1 required positional argument: 'age'
    ```

2. Default Argument Values (기본 인자 값) : 함수 정의에서 매개변수에 기본 값을 할당하는 것. 인자를 전달하지 않으면, 기본값이 매개변수에 할당됨.

    ```python
    def greet(name, age = 30) : 
        print(f'안녕하세요, {name}님! {age}살이시군요.')

    greet('Bob') # 안녕하세요, Bob님! 30살이시군요.
    ```

3. Keyword Arguemtns (키워드 인자) : 함수 호출 시, 인자의 이름과 함께 값을 전달하는 인자. 매개변수와 인자를 일치시키지 않고, 특정 매개변수에 값을 할당할 수 있음.
   - 인자의 순서는 중요하지 않으며, 인자의 이름을 명시하여 전달
   - 호출 시 키워드 인자는 위치 인자 뒤에 위치해야함

    ```python
    def greet(name, age = 30) : 
        print(f'안녕하세요, {name}님! {age}살이시군요.')
    
    greet(age=35, name='Dave') # 안녕하세요, Dave님! 35살이시군요.
    greet(age=35, 'Dave') # positional argument follows keyword argument
    ```

4. Arbitrary Argument Lists (임의의 인자 목록) : 정해지지 않은 개수의 인자를 처리하는 인자. 함수 정의 시 매개변수 앞에 `*`를 붙여 사용. 여러 개의 인자를 tuple로 처리.
   
    ```python
    def calculate_sum(*args):
        print(args) # (1, 100, 5000, 30)
        print(type(args)) # <class 'tuple'>
    
    calculate_sum(1, 100, 5000, 30)
    ```

5. Arbitrary Keyword Argument Lists (임의의 키워드 인자 목록) : 정해지지 않은 개수의 키워드 인자를 처리하는 인자. 함수 정의 시 매개변수 앞에 `**`를 붙여 사용. 여러 개의 인자를 dictionary로 묶어 처리.

    ```python
    def print_info(**kwargs):
        print(kwargs)

    print_info(name='Eve', age=30)
    ```

함수 인자 권장 작성 순서 : 위치 > 기본 > 가변 > 가변 키워드
- 호출 시 인자를 전달하는 과정에서 혼란을 줄일 수 있도록 함
- 상황에 따라 유연하게 조정될 수 있음

### 재귀 함수

재귀 함수 : 함수 내부에서 자기 자신을 호출하는 함수
- 특정 알고리즘 식을 표현할 때 변수의 사용이 줄어들며, 코드의 가독성이 높아짐
- 1개 이상의 base case (종료되는 상황)가 존재하고, 수렴하도록 작성
- 종료 조건을 명확히 할 것
- 반복되는 호출이 종료 조건을 향하도록 할 것
- 메모리 사용량이 많고 느리기에, 스택 오버플로우 에러가 발생할 수 있음
  - 스택 오버플로우 : 작업 공간에 일이 너무 많이 쌓여 프로그램이 멈추는 오류

재귀함수를 사용하는 이유 : 
- 문제의 자연스러운 표현 : 복잡한 문제를 간결하고 직관적으로 표현 가능
- 코드 간결성 : 상황에 따라 반복문보다 알고리즘 코드가 더 간결하고 명확해질 수 있음
- 수학적 문제 해결 : 수학적 정의가 재귀적으로 표현되는 경우, 직접적인 구현 가능

- factorial 함수 : 자기 자신을 재귀적으로 호출하여 입력된 숫자 n의 팩토리얼을 계산
    - 재귀 호출은 n이 0이 될 때까지 반복되며, 종료 조건을 설정하여 재귀 호출이 멈추도록 함
    - 재귀 호출의 결과를 이용하여 문제를 작은 단위의 문제로 분할하고, 분할된 문제들의 결과를 조합하여 최종 결과를 도출

    ```python
    def factorial(n):
        # 종료 조건: n이 0이면 1을 반환
        if n == 0:
            return 1
        else:
            # 재귀 호출 : n과 n-1의 팩토리얼을 곱한 결과를 반환
            return n * factorial(n-1)
    # 팩토리얼 계산 예시
    print(factorial(5)) #1201111
    ```

### 내장 함수

내장 함수 (Built-in function) : 파이썬이 기본적으로 제공하는 함수 (별도의 import 없이 바로 사용 가능)
- 이름이 같아도 다른 언어에서는 다르게 동작할 수 있음
- 내부 동작 원리를 이해하면 문제 해결에 더 효과적으로 활용하고 성능 저하 같은 잠재적 문제를 피할 수 있음
- 많이 사용하는 내장 함수 : `len()`, `max()`, `min()`, `sum()`, `sorted()`

### 함수와 Scope

Python의 범위 (Scope) : 함수는 코드 내부에 local scope를 생성하며, 그 외의 공간인 global scope로 구분
- scope
  - global scope : 코드 어디에서든 참도할 수 있는 공간
  - local scope : 함수가 만든 scope (함수 내부에서만 참조 가능)
- variable
  - global variable : global scope에 정의된 변수
  - local variable : local scope에 정의됨 변수

변수 수명주기 (lifecycle) : 변수의 수명주기는 변수가 선언되는 위치와 scope에 따라 결정됨

1. built-in scope : 파이썬이 실행된 이후부터 영원히 유지
2. global scope : 모듈이 호출된 시점 이후 혹은 인터프리터가 끝날 때까지 유지
3. local scope : 함수가 호출될 때 생성되고, 함수가 종료될 때까지 유지

이름 검색 규칙 (Name Resolution) : 파이썬에서 사용되는 이름(식별자)들은 특정한 이름공간(namespace에 저장되어 있음). 
- LEGB Rule에 따라 이름을 찾아 나감.
  1. Local scope : 지역 범위 (현재 작업 중인 범위)
  2. Enclosed scope : 지역 범위 한 단계 위 범위
  3. Global scope : 최상단에 위치한 범위
  4. Built-in scope : 모든 것을 담고 있는 범위 (정의하지 않고 사용할 수 있는 모든 것)
- 함수 내에서는 바깥 Scope의 변수에 접근 가능하나 수정은 할 수 없음

### global 키워드

global 키워드 : 변수의 스코프를 전역 범위로 지정하기 위해 사용. 일반적으로 함수 내에서 전역 변수를 수정하려는 경우에 사용.

### 함수 스타일 가이드

함수 이름 작성 규칙 : 
- 소문자와 `_` 사용
- 동사로 시작하여 함수의 동작 설명
- 약어 사용 지양
- 이름만으로 '무엇을 하는지' 명확하게 표현
- True/False를 반환 시, is 또는 has로 시작하는 것을 추천함
- 프로젝트 전체에서 일관성을 지키는 것이 가독성이 도움을 줌

함수 이름 구성 요소 : 
- 동사 + 명사 : save_user()
- 동사 + 형용사 + 명사 : calculate_total_price()
- get/set 접두사 : get_username(), set_username()

### 단일 책임 원칙 (Single Responsibility Principle)

단일 책임 원칙 (Single Responsibility Principle) : 모든 객체는 하나의 명확한 목적과 책임만을 가져야 함

함수 설계 원칙 : 
1. 명확한 목적 : 함수는 한 가지 작업만 수행. 함수 이름으로 목적을 명확히 표현.
2. 책임 분리 : 데이터 검증, 처리, 저장 등을 별도 함수로 분리. 각 함수는 독립적으로 동작 가능하도록 설계.
3. 유지보수성 : 작은 단위의 함수로 나누어 관리. 코드 수정 시 영향 범위를 최소화.

### Packing

패킹 (packing) : 여러 대의 데이터를 하나의 컬렉션으로 모아 담는 과정
- 여러 개의 값을 하나의 튜플로 묶는 파이썬의 기본 동작
- 한 변수에 `,`로 구분된 값을 넣으면 자동으로 튜플로 처리

`*`을 활용한 패킹 (함수 매개변수 작성 시) : 남는 위치 인자들을 튜플로 묶기. `*`를 붙인 매개변수가 남는 위치 인자들을 모두 모아 하나의 튜플로 만듦.

`**`을 활용한 패킹 (함수 매개변수 작성 시) : 남는 키워드 인자들을 딕셔너리로 묶기. `**`를 붙인 매개변수가 남는 키워드 인자들을 모두 모아 하나의 딕셔너리로 만듦.

`print()` 함수의 패킹 예시 : `print()` 함수에서 임의의 가변 인자를 작성할 수 있었던 이유 > 인자 개수에 상관없이 튜플 하나로 패킹되어서 내부에서 처리

### Unpacking

언패킹 (Unpacking) : 컬렉션에 담겨있는 데이터들을 개별 요소로 펼쳐 놓는 과정
- 튜플이나 리스트 등의 객체의 요소들을 개별 변수에 할당
- '시퀀스 언패킹 (sequence unpacking)' 또는 '다중 할당(multiple assignment)'이라고 부름

`*`을 활용한 패킹 (함수 인자 전달) : 리스트나 튜플 앞에 `*`을 붙여 각 요소를 함수의 개별 위치 인자로 전달

`**`을 활용한 언패킹 (딕셔너리 > 함수 키워드 인자) : 딕셔너리 앞에 `**`를 붙여 {키:값} 쌍을 키=값 형태의 키워드 인자로 전달

### 함수와 반환

함수의 return, 반환의 원칙 : 파이썬 함수는 언제나 단 하나의 값(객체)만 반환할 수 있음. 여러 값을 반환하는 경우에도 하나의 튜플로 패킹하여 반환.

파이썬 함수의 반환 핵심 : 
1. 파이썬 함수는 오직 하나의 값(객체)만 return 할 수 있음
2. return a, b, c처럼 콤마를 사용하면, 파이썬이 값들을 하나의 튜플로 자동 패킹하여 반환
3. 반환됨 튜플은 각 변수에 언패킹하여 사용할 수 있음

### 람다 표현식

람다 표현식 (Lambda expressions) : 익명 함수를 만드는 데 사용되는 표현식. 한 줄로 간단한 함수를 정의.

람다 표현식 구조 : 
- lambda 키워드 : 람다 함수를 선언하기 위해 사용되는 키워드
- 매개변수 : 함수에 전달되는 매개변수들. 여러 개의 매개변수가 있을 경우 쉼표로 구분.
- 표현식 : 함수의 실행되는 코드 블록으로, 결과값을 반환하는 표현식으로 작성

```python
def addition(x, y):
    return x + y

lambda x, y: x + y
```

